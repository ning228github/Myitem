<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<link rel="stylesheet" type="text/css" href="css/reset.css"/>
		<link rel="stylesheet" type="text/css" href="css/swiper.min.css"/>
		<link rel="stylesheet/less" type="text/css" href="css/rendering_new.less"/>
		<script src="js/less.js" type="text/javascript" charset="utf-8"></script>
	</head>
	<body>
		<div id="header">
			<div id="logo">
				<img src="img/shininglogo.png"/>
			</div>
			<div id="logo_right">
				<img src="img/home/nav.png"/>
				<div id="logo_over">
					<ul id="one"><a href="home.html">Home</a></ul>
					<ul id="two"><a href="About.html">About</a></ul>
					<ul id="three"><a href="rendering_new.html">Rendering</a></ul>
					<ul id="four" ><a href="animation.html">3D Animation</a></ul>
					<ul id="five"><a href="bin.html">Bim</a></ul>
					<ul id="six"><a href="contact.html">Contact</a></ul>
				</div>
			</div>
		</div>
		<div class="swiper-container">
			<div class="swiper-wrapper">
				<div  class="swiper-slide"><img src="img/rendering/images/Banner (1).jpg"/></div>
				<div  class="swiper-slide"><img src="img/rendering/images/Banner (2).jpg"/></div>
				<div  class="swiper-slide"><img src="img/rendering/images/Banner (3).jpg"/></div>
			</div>
			<div class="swiper-pagination"></div>
		</div>
		<div id="box">
			<ul  id="content"></ul>
		</div>
		<div id="footer">
			<div id="footer_top">
				<img  class="footer1"    src="img/contact_mail.jpg"/>
			</div>
			<div id="footer_center">
				<img  class="footer2"     src="img/home/facebook.jpg"/>
				<img  class="footer3"     src="img/home/youtube.jpg"/>
				<img  class="footer4"     src="img/home/linkedln.jpg"/>
				<img  class="footer5"     src="img/home/twitter.jpg"/>
			</div>
			<div id="footer_bottom">
				<p>Copyright © 1998-2015 shining Group</p>
			</div>
		</div>
	</body>
	<script src="js/jquery.min.js" type="text/javascript" charset="utf-8"></script>
	<script src="js/swiper.min.js" type="text/javascript" charset="utf-8"></script>
	<script src="js/footer.js" type="text/javascript" charset="utf-8"></script>
	<script type="text/javascript">
		var swiper = new Swiper('.swiper-container', {
        pagination: '.swiper-pagination',
        paginationClickable: true,
        loop: true,
        autoplay : 2000,
        effect:'fade',
       });       
//利用js实现瀑布流，
		function random(min, max) {
			return parseInt(Math.random() * (max - min)) + min;
		}
		var boxDiv = document.getElementById('box');	
		var contentDiv = document.getElementById('content');
		
		var heights = []; // 所有li高度的数组
		var maxHeight = 0;
		function setLi (isFirst) {
			var lis = contentDiv.getElementsByTagName('li');
			// 确定页面的列数
			var sightWidth = document.documentElement.clientWidth;
			if(sightWidth > 640){
				cols = 4;
				var width = 24;
				var rightMargin = 0.5;
			}else{
				cols = 2;
				var width = 48;
				var rightMargin = 1;
			}
			// 设置ul的宽度
			contentDiv.style.width = cols * (width + rightMargin) + '%';
			
		
			var colHeights = [];// 每一列高度的数组
			for (var i = 0; i < cols; i ++) {
				colHeights[i] = 0;
			}
			
			function createLi (index) {
				// 创建li 
				var li = lis[index] || document.createElement('li');
				li.innerHTML = '<img src="img/rendering/images/'+ (random(0,84) + 1) +'.jpg" />';
				var h = heights[index] || random(200, 400);
				
				li.style.height = h + 'px';
				li.style.width = width + '%';
				// li应该添加到哪一列
				
				isFirst && heights.push(h);
				
				// 寻找最矮的列和它所在的下标
				var minCol = colHeights[0];
				maxHeight = colHeights[0];
				var minIndex = 0;
				for (var i = 0; i < cols; i ++) {
					if (minCol > colHeights[i]) {
						minCol = colHeights[i];
						minIndex = i;
					}
				}
				for (var i = 0; i < cols; i ++) {
					if (maxHeight < colHeights[i]) {
						maxHeight = colHeights[i];
					}
				}
			
				
				// 设置li相对于ul的top、left
				li.style.top = minCol + 'px';
				li.style.left = minIndex * (width + rightMargin) + '%';
				
				colHeights[minIndex] += (h + 7);
				
				isFirst && contentDiv.appendChild(li);
				
				var imgb;
				var imgf;
				lis[index].onmouseenter = function(){
					imgb = document.createElement('img');
					imgb.src = 'img/n.png';
					imgb.className = 'nav';
					
					
					
					
					imgf = document.createElement('img');
					imgf.src = 'img/rendering/images/fangda.png';
					imgf.className = 'big';
					imgf.style.top = (this.offsetHeight / 2 - 15) + 'px';
					imgf.style.left = (this.offsetWidth / 2 - 15) + 'px';
					
					
					
					
					this.appendChild(imgf);
					this.appendChild(imgb);
					
				}
				lis[index].onmouseleave = function(){
					this.removeChild(imgb);
					this.removeChild(imgf);
				}
			}
			for (var i = 0; i < 84; i++) {
				createLi(i);
			}
			contentDiv.style.height = (maxHeight + 80) + 'px';
		}
		setLi(true);
		window.onresize = function () {
			setLi(false);
		}	
	</script>
	
</html>

